<!DOCTYPE html><html lang="zh-CN"><head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Noto Serif SC:300,300italic,400,400italic,700,700italic|Source Code Pro:300,300italic,400,400italic,700,700italic&amp;display=swap&amp;subset=latin,latin-ext">
<link rel="stylesheet" href="../lib/font-awesome/css/font-awesome.min.css">
  <link rel="stylesheet" href="../js/jquery.fancybox.min.css">
  <link rel="stylesheet" href="../js/pace-theme-minimal.min.css">
  <script src="../js/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"xuemingde.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":true,"sidebar":{"position":"left","width":300,"display":"always","padding":18,"offset":10,"onmobile":true},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":true,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":true,"lazyload":true,"pangu":true,"comments":{"style":"tabs","active":"valine","storage":true,"lazyload":true,"nav":null,"activeClass":"valine"},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":true,"preload":true},"motion":{"enable":true,"async":true,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta property="og:type" content="article">
<meta property="og:title" content="å†…å­˜æ³„æ¼å’Œå†…å­˜æº¢å‡º">
<meta property="og:url" content="https://xuemingde.com/posts/266A6Z5.html">
<meta property="og:site_name" content="ä¸œå¤•æœˆå°‘å¹´">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2022-02-14T16:00:00.000Z">
<meta property="article:modified_time" content="2023-09-05T11:51:23.197Z">
<meta property="article:author" content="meadel">
<meta property="article:tag" content="Java">
<meta property="article:tag" content="æ•°ç»„">
<meta property="article:tag" content="C">
<meta property="article:tag" content="å†…å­˜">
<meta property="article:tag" content="å †">
<meta property="article:tag" content="æ ˆ">
<meta property="article:tag" content="å˜é‡">
<meta property="article:tag" content="é”">
<meta property="article:tag" content="æ•°æ®åº“">
<meta property="article:tag" content="GC">
<meta property="article:tag" content="JVM">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://xuemingde.com/posts/266A6Z5.html">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>å†…å­˜æ³„æ¼å’Œå†…å­˜æº¢å‡º | ä¸œå¤•æœˆå°‘å¹´</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --></head>

<body itemscope="" itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">ä¸œå¤•æœˆå°‘å¹´</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">ä¸€ä½ç¨‹åºå‘˜çš„æˆé•¿ä¹‹è·¯</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£<span class="badge">139</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>åˆ†ç±»<span class="badge">21</span></a>

  </li>
        <li class="menu-item menu-item-resources">

    <a href="/resources/" rel="section"><i class="fa fa-download fa-fw"></i>èµ„æºåº“</a>

  </li>
        <li class="menu-item menu-item-collect">

    <a href="/collect/" rel="section"><i class="fa fa-star fa-fw"></i>æ”¶è—å¤¹</a>

  </li>
        <li class="menu-item menu-item-links">

    <a href="/links/" rel="section"><i class="fa fa-link fa-fw"></i>å‹é“¾</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>æœç´¢
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" placeholder="æœç´¢..." spellcheck="false" type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

           <div id="container-1">
            <div class="content post posts-expand">
            

    
  
  
  <article itemscope="" itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://xuemingde.com/posts/266A6Z5.html">

    <span hidden="" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/touxiang.jpeg">
      <meta itemprop="name" content="meadel">
      <meta itemprop="description" content="æˆ‘çš„æ„¿æœ›ï¼Œä¸–ç•Œå’Œå¹³">
    </span>

    <span hidden="" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä¸œå¤•æœˆå°‘å¹´">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          å†…å­˜æ³„æ¼å’Œå†…å­˜æº¢å‡º<span class="exturl post-edit-link" data-url="aHR0cHM6Ly9naXRlZS5jb20vLS9pZGUvcHJvamVjdC9tZWFkZXIvaGV4by1ibG9nL2VkaXQvbWFzdGVyLy0vc291cmNlL19wb3N0cy9qYXZhL0pWTS8yMDIyMDIxNS3lhoXlrZjms4TmvI/lkozlhoXlrZjmuqLlh7oubWQ=" title="ç¼–è¾‘"><i class="fa fa-pencil-alt"></i></span>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2022-02-15 00:00:00" itemprop="dateCreated datePublished" datetime="2022-02-15T00:00:00+08:00">2022-02-15</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2023-09-05 19:51:23" itemprop="dateModified" datetime="2023-09-05T19:51:23+08:00">2023-09-05</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
                </span>
                  ï¼Œ
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/java/JVM/" itemprop="url" rel="index"><span itemprop="name">JVM</span></a>
                </span>
            </span>

          
            <span id="/posts/266A6Z5.html" class="post-meta-item leancloud_visitors" data-flag-title="å†…å­˜æ³„æ¼å’Œå†…å­˜æº¢å‡º" title="é˜…è¯»æ¬¡æ•°">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
              <span class="leancloud-visitors-count"></span>
            </span>
            <span class="post-meta-item" title="é˜…è¯»æ¬¡æ•°" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
              <span id="busuanzi_value_page_pv"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valineï¼š</span>
    
    <a title="valine" href="/posts/266A6Z5.html#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/posts/266A6Z5.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
              <span>3.3k</span>
            </span>
            <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ â‰ˆ</span>
              <span>3 åˆ†é’Ÿ</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <style>.darkmode--activated{--body-bg-color:#282828;--content-bg-color:#333;--card-bg-color:#555;--text-color:#ccc;--blockquote-color:#bbb;--link-color:#ccc;--link-hover-color:#eee;--brand-color:#ddd;--brand-hover-color:#ddd;--table-row-odd-bg-color:#282828;--table-row-hover-bg-color:#363636;--menu-item-bg-color:#555;--btn-default-bg:#222;--btn-default-color:#ccc;--btn-default-border-color:#555;--btn-default-hover-bg:#666;--btn-default-hover-color:#ccc;--btn-default-hover-border-color:#666;--highlight-background:#282b2e;--highlight-foreground:#a9b7c6;--highlight-gutter-background:#34393d;--highlight-gutter-foreground:#9ca9b6}.darkmode--activated img{opacity:.75}.darkmode--activated img:hover{opacity:.9}.darkmode--activated code{color:#69dbdc;background:0 0}button.darkmode-toggle{z-index:9999}.darkmode-ignore,img{display:flex!important}.beian img{display:inline-block!important}</style><h1 id="å†…å­˜æ³„æ¼"><a href="#å†…å­˜æ³„æ¼" class="headerlink" title="å†…å­˜æ³„æ¼"></a>å†…å­˜æ³„æ¼</h1><p>æ˜¯æŒ‡ç¨‹åºåœ¨ç”³è¯·å†…å­˜åï¼Œæ— æ³•é‡Šæ”¾å·²ç”³è¯·çš„å†…å­˜ç©ºé—´ï¼Œä¸€æ¬¡å†…å­˜æ³„æ¼ä¼¼ä¹ä¸ä¼šæœ‰å¤§çš„å½±å“ï¼Œä½†å†…å­˜æ³„æ¼å †ç§¯åçš„åæœå°±æ˜¯å†…å­˜æº¢å‡ºã€‚ </p>
<h2 id="å†…å­˜æ³„æ¼äº§ç”Ÿçš„åŸå› "><a href="#å†…å­˜æ³„æ¼äº§ç”Ÿçš„åŸå› " class="headerlink" title="å†…å­˜æ³„æ¼äº§ç”Ÿçš„åŸå› "></a>å†…å­˜æ³„æ¼äº§ç”Ÿçš„åŸå› </h2><ol>
<li>å•ä¾‹é€ æˆçš„å†…å­˜æ³„æ¼ </li>
</ol>
<p>ç”±äºå•ä¾‹çš„é™æ€ç‰¹æ€§ä½¿å¾—å…¶ç”Ÿå‘½å‘¨æœŸå’Œåº”ç”¨çš„ç”Ÿå‘½å‘¨æœŸä¸€æ ·é•¿ï¼Œå¦‚æœä¸€ä¸ªå¯¹è±¡å·²ç»ä¸å†éœ€è¦ä½¿ç”¨äº†ï¼Œè€Œå•ä¾‹å¯¹è±¡è¿˜æŒæœ‰è¯¥å¯¹è±¡çš„å¼•ç”¨ï¼Œå°±ä¼šä½¿å¾—è¯¥å¯¹è±¡ä¸èƒ½è¢«æ­£å¸¸å›æ”¶ï¼Œä»è€Œå¯¼è‡´äº†å†…å­˜æ³„æ¼ã€‚ </p>
<ol>
<li>â€‹éé™æ€å†…éƒ¨ç±»åˆ›å»ºé™æ€å®ä¾‹é€ æˆçš„å†…å­˜æ³„æ¼ </li>
<li><p>â€‹èµ„æºæœªå…³é—­é€ æˆçš„å†…å­˜æ³„æ¼ </p>
<h2 id="å¦‚ä½•é¿å…å†…å­˜æ³„æ¼"><a href="#å¦‚ä½•é¿å…å†…å­˜æ³„æ¼" class="headerlink" title="å¦‚ä½•é¿å…å†…å­˜æ³„æ¼"></a>å¦‚ä½•é¿å…å†…å­˜æ³„æ¼</h2></li>
<li><p>â€‹å°½é‡å‡å°‘ä½¿ç”¨é™æ€å˜é‡ï¼Œæˆ–è€…ä½¿ç”¨å®ŒåŠæ—¶ èµ‹å€¼ä¸º nullã€‚ </p>
</li>
<li>â€‹å„ç§è¿æ¥ï¼ˆæ•°æ®åº“è¿æ¥ï¼Œç½‘ç»œè¿æ¥ï¼ŒIOè¿æ¥ï¼‰æ“ä½œï¼ŒåŠ¡å¿…æ˜¾ç¤ºè°ƒç”¨closeå…³é—­ </li>
<li>â€‹å‡å°‘é•¿ç”Ÿå‘½å‘¨æœŸçš„å¯¹è±¡æŒæœ‰çŸ­ç”Ÿå‘½å‘¨æœŸçš„å¼•ç”¨ï¼› </li>
<li>å…»æˆè‰¯å¥½çš„ç¼–ç ä¹ æƒ¯ã€‚<h2 id="é‡åˆ°çš„å†…å­˜æ³„æ¼"><a href="#é‡åˆ°çš„å†…å­˜æ³„æ¼" class="headerlink" title="é‡åˆ°çš„å†…å­˜æ³„æ¼"></a>é‡åˆ°çš„å†…å­˜æ³„æ¼</h2>åœ¨ä½¿ç”¨ThreadLocalæ—¶æœ€åæ²¡æœ‰è°ƒç”¨removeï¼Œä½¿ThreadLocalå¯¹è±¡æ²¡æœ‰è¢«åƒåœ¾å›æ”¶å™¨å›æ”¶ï¼Œé€ æˆäº†å†…å­˜æ³„æ¼ã€‚<h1 id="å†…å­˜æº¢å‡º"><a href="#å†…å­˜æº¢å‡º" class="headerlink" title="å†…å­˜æº¢å‡º"></a>å†…å­˜æº¢å‡º</h1></li>
</ol>
<p>æŒ‡ç¨‹åºç”³è¯·å†…å­˜æ—¶ï¼Œæ²¡æœ‰è¶³å¤Ÿçš„å†…å­˜ä¾›ç”³è¯·è€…ä½¿ç”¨ï¼Œæˆ–è€…è¯´ï¼Œç»™äº†ä½ ä¸€å—å­˜å‚¨intç±»å‹æ•°æ®çš„å­˜å‚¨ç©ºé—´ï¼Œä½†æ˜¯ä½ å´å­˜å‚¨longç±»å‹çš„æ•°æ®ï¼Œé‚£ä¹ˆç»“æœå°±æ˜¯å†…å­˜ä¸å¤Ÿç”¨ï¼Œæ­¤æ—¶å°±ä¼šæŠ¥é”™OOM,å³æ‰€è°“çš„å†…å­˜æº¢å‡ºã€‚OutOfMemoryError </p>
<h2 id="å†…å­˜æº¢å‡ºäº§ç”Ÿçš„åŸå› "><a href="#å†…å­˜æº¢å‡ºäº§ç”Ÿçš„åŸå› " class="headerlink" title="å†…å­˜æº¢å‡ºäº§ç”Ÿçš„åŸå› "></a>å†…å­˜æº¢å‡ºäº§ç”Ÿçš„åŸå› </h2><h3 id="å †æº¢å‡º"><a href="#å †æº¢å‡º" class="headerlink" title="å †æº¢å‡º"></a>å †æº¢å‡º</h3><blockquote>
<p>java.lang.OutOfMemoryError: Java heap space  </p>
</blockquote>
<p><strong>åŸå› </strong></p>
<ol>
<li>ä»£ç ä¸­å¯èƒ½å­˜åœ¨å¤§å¯¹è±¡åˆ†é…ã€‚</li>
<li>å¯èƒ½å­˜åœ¨å†…å­˜æ³„éœ²ï¼Œå¯¼è‡´åœ¨å¤šæ¬¡GCä¹‹åï¼Œè¿˜æ˜¯æ— æ³•æ‰¾åˆ°ä¸€å—è¶³å¤Ÿå¤§çš„å†…å­˜å®¹çº³å½“å‰å¯¹è±¡ã€‚</li>
</ol>
<p><strong>è§£å†³æ–¹æ³•</strong></p>
<ol>
<li>æ£€æŸ¥æ˜¯å¦å­˜åœ¨å¤§å¯¹è±¡çš„åˆ†é…ï¼Œæœ€æœ‰å¯èƒ½çš„æ˜¯å¤§æ•°ç»„åˆ†é…ã€‚</li>
<li>é€šè¿‡jmapå‘½ä»¤ï¼ŒæŠŠå †å†…å­˜dumpä¸‹æ¥ï¼Œä½¿ç”¨matå·¥å…·åˆ†æä¸€ä¸‹ï¼Œæ£€æŸ¥æ˜¯å¦å­˜åœ¨å†…å­˜æ³„éœ²çš„é—®é¢˜ã€‚</li>
<li>å¦‚æœæ²¡æœ‰æ‰¾åˆ°æ˜æ˜¾çš„å†…å­˜æ³„éœ²ï¼Œä½¿ç”¨ -Xmx åŠ å¤§å †å†…å­˜.</li>
<li>è¿˜æœ‰ä¸€ç‚¹å®¹æ˜“è¢«å¿½ç•¥ï¼Œæ£€æŸ¥æ˜¯å¦æœ‰å¤§é‡çš„è‡ªå®šä¹‰çš„ Finalizable å¯¹è±¡ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯æ¡†æ¶å†…éƒ¨æä¾›çš„ï¼Œè€ƒè™‘å…¶å­˜åœ¨çš„å¿…è¦æ€§  </li>
</ol>
<h3 id="æ°¸ä¹…ä»£-å…ƒç©ºé—´æº¢å‡º"><a href="#æ°¸ä¹…ä»£-å…ƒç©ºé—´æº¢å‡º" class="headerlink" title="æ°¸ä¹…ä»£/å…ƒç©ºé—´æº¢å‡º"></a>æ°¸ä¹…ä»£/å…ƒç©ºé—´æº¢å‡º</h3><p>æŠ¥é”™ä¿¡æ¯ï¼š</p>
<blockquote>
<p>java.lang.OutOfMemoryError: PermGen spacejava.lang.OutOfMemoryError: Metaspace</p>
</blockquote>
<p><strong>åŸå› </strong><br>æ°¸ä¹…ä»£æ˜¯ HotSot è™šæ‹Ÿæœºå¯¹æ–¹æ³•åŒºçš„å…·ä½“å®ç°ï¼Œå­˜æ”¾äº†è¢«è™šæ‹ŸæœºåŠ è½½çš„ç±»ä¿¡æ¯ã€å¸¸é‡ã€é™æ€å˜é‡ã€JITç¼–è¯‘åçš„ä»£ç ç­‰ã€‚<br>JDK8åï¼Œå…ƒç©ºé—´æ›¿æ¢äº†æ°¸ä¹…ä»£ï¼Œå…ƒç©ºé—´ä½¿ç”¨çš„æ˜¯æœ¬åœ°å†…å­˜ï¼Œè¿˜æœ‰å…¶å®ƒç»†èŠ‚å˜åŒ–: </p>
<ul>
<li>å­—ç¬¦ä¸²å¸¸é‡ç”±æ°¸ä¹…ä»£è½¬ç§»åˆ°å †ä¸­</li>
<li>å’Œæ°¸ä¹…ä»£ç›¸å…³çš„JVMå‚æ•°å·²ç§»é™¤</li>
<li>â€‹</li>
</ul>
<p>å¯èƒ½åŸå› æœ‰å¦‚ä¸‹å‡ ç§ï¼š</p>
<ol>
<li>åœ¨Java7ä¹‹å‰ï¼Œé¢‘ç¹çš„é”™è¯¯ä½¿ç”¨String.intern()æ–¹æ³•</li>
<li>è¿è¡ŒæœŸé—´ç”Ÿæˆäº†å¤§é‡çš„ä»£ç†ç±»ï¼Œå¯¼è‡´æ–¹æ³•åŒºè¢«æ’‘çˆ†ï¼Œæ— æ³•å¸è½½</li>
<li>åº”ç”¨é•¿æ—¶é—´è¿è¡Œï¼Œæ²¡æœ‰é‡å¯</li>
</ol>
<p>æ²¡æœ‰é‡å¯ JVM è¿›ç¨‹ä¸€èˆ¬å‘ç”Ÿåœ¨è°ƒè¯•æ—¶ï¼Œå¦‚ä¸‹é¢ tomcat å®˜ç½‘çš„ä¸€ä¸ª FAQï¼š</p>
<blockquote>
<p>Why does the memory usage increase when I redeploy a web application? That is because your web application has a memory leak. A common issue are â€œPermGenâ€ memory leaks. They happen because the Classloader (and the Class objects it loaded) cannot be recycled unless some requirements are met (). They are stored in the permanent heap generation by the JVM, and when you redeploy a new class loader is created, which loads another copy of all these classes. This can cause OufOfMemoryErrors eventually. (*) The requirement is that all classes loaded by this classloader should be able to be gcâ€™ed at the same time.</p>
</blockquote>
<p><strong>è§£å†³æ–¹æ³•</strong><br>å› ä¸ºè¯¥OOMåŸå› æ¯”è¾ƒç®€å•ï¼Œè§£å†³æ–¹æ³•æœ‰å¦‚ä¸‹å‡ ç§ï¼š</p>
<ol>
<li>æ£€æŸ¥æ˜¯å¦æ°¸ä¹…ä»£ç©ºé—´æˆ–è€…å…ƒç©ºé—´è®¾ç½®çš„è¿‡å°</li>
<li>æ£€æŸ¥ä»£ç ä¸­æ˜¯å¦å­˜åœ¨å¤§é‡çš„åå°„æ“ä½œ</li>
<li>dumpä¹‹åé€šè¿‡matæ£€æŸ¥æ˜¯å¦å­˜åœ¨å¤§é‡ç”±äºåå°„ç”Ÿæˆçš„ä»£ç†ç±»</li>
<li>æ”¾å¤§æ‹›ï¼Œé‡å¯JVM</li>
</ol>
<h3 id="GC-overhead-limit-exceeded"><a href="#GC-overhead-limit-exceeded" class="headerlink" title="GC overhead limit exceeded"></a>GC overhead limit exceeded</h3><p>è¿™ä¸ªå¼‚å¸¸æ¯”è¾ƒçš„ç½•è§ï¼ŒæŠ¥é”™ä¿¡æ¯ï¼š</p>
<blockquote>
<p>java.lang.OutOfMemoryErrorï¼šGC overhead limit exceeded</p>
</blockquote>
<p><strong>åŸå› </strong><br>è¿™ä¸ªæ˜¯JDK6æ–°åŠ çš„é”™è¯¯ç±»å‹ï¼Œä¸€èˆ¬éƒ½æ˜¯å †å¤ªå°å¯¼è‡´çš„ã€‚Sun å®˜æ–¹å¯¹æ­¤çš„å®šä¹‰ï¼šè¶…è¿‡98%çš„æ—¶é—´ç”¨æ¥åšGCå¹¶ä¸”å›æ”¶äº†ä¸åˆ°2%çš„å †å†…å­˜æ—¶ä¼šæŠ›å‡ºæ­¤å¼‚å¸¸ã€‚</p>
<p><strong>è§£å†³æ–¹æ³•</strong></p>
<ol>
<li>æ£€æŸ¥é¡¹ç›®ä¸­æ˜¯å¦æœ‰å¤§é‡çš„æ­»å¾ªç¯æˆ–æœ‰ä½¿ç”¨å¤§å†…å­˜çš„ä»£ç ï¼Œä¼˜åŒ–ä»£ç ã€‚</li>
<li>æ·»åŠ å‚æ•° -XX:-UseGCOverheadLimit  ç¦ç”¨è¿™ä¸ªæ£€æŸ¥ï¼Œå…¶å®è¿™ä¸ªå‚æ•°è§£å†³ä¸äº†å†…å­˜é—®é¢˜ï¼Œåªæ˜¯æŠŠé”™è¯¯çš„ä¿¡æ¯å»¶åï¼Œæœ€ç»ˆå‡ºç° java.lang.OutOfMemoryError: Java heap spaceã€‚</li>
<li>dumpå†…å­˜ï¼Œæ£€æŸ¥æ˜¯å¦å­˜åœ¨å†…å­˜æ³„éœ²ï¼Œå¦‚æœæ²¡æœ‰ï¼ŒåŠ å¤§å†…å­˜ã€‚</li>
</ol>
<h3 id="æ–¹æ³•æ ˆæº¢å‡º"><a href="#æ–¹æ³•æ ˆæº¢å‡º" class="headerlink" title="æ–¹æ³•æ ˆæº¢å‡º"></a>æ–¹æ³•æ ˆæº¢å‡º</h3><p>æŠ¥é”™ä¿¡æ¯ï¼š</p>
<blockquote>
<p>java.lang.OutOfMemoryError : unable to create new native Thread</p>
</blockquote>
<p><strong>åŸå› </strong><br>å‡ºç°è¿™ç§å¼‚å¸¸ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯åˆ›å»ºçš„äº†å¤§é‡çš„çº¿ç¨‹å¯¼è‡´çš„ï¼Œä»¥å‰ç¢°åˆ°è¿‡ä¸€æ¬¡ï¼Œé€šè¿‡jstackå‡ºæ¥ä¸€å…±8000å¤šä¸ªçº¿ç¨‹ã€‚</p>
<p><strong>è§£å†³æ–¹æ³•</strong></p>
<ol>
<li>é€šè¿‡ -Xss é™ä½çš„æ¯ä¸ªçº¿ç¨‹æ ˆå¤§å°çš„å®¹é‡</li>
<li>çº¿ç¨‹æ€»æ•°ä¹Ÿå—åˆ°ç³»ç»Ÿç©ºé—²å†…å­˜å’Œæ“ä½œç³»ç»Ÿçš„é™åˆ¶ï¼Œæ£€æŸ¥æ˜¯å¦è¯¥ç³»ç»Ÿä¸‹æœ‰æ­¤é™åˆ¶ï¼š</li>
</ol>
<ul>
<li>/proc/sys/kernel/pid_max</li>
<li>/proc/sys/kernel/thread-max</li>
<li>maxuserprocessï¼ˆulimit -uï¼‰</li>
<li>/proc/sys/vm/maxmapcount</li>
</ul>
<h3 id="éå¸¸è§„æº¢å‡º"><a href="#éå¸¸è§„æº¢å‡º" class="headerlink" title="éå¸¸è§„æº¢å‡º"></a>éå¸¸è§„æº¢å‡º</h3><p>ä¸‹é¢è¿™äº›OOMå¼‚å¸¸ï¼Œå¯èƒ½å¤§éƒ¨åˆ†çš„åŒå­¦éƒ½æ²¡æœ‰ç¢°åˆ°è¿‡ï¼Œä½†è¿˜æ˜¯éœ€è¦äº†è§£ä¸€ä¸‹</p>
<h3 id="åˆ†é…è¶…å¤§æ•°ç»„"><a href="#åˆ†é…è¶…å¤§æ•°ç»„" class="headerlink" title="åˆ†é…è¶…å¤§æ•°ç»„"></a>åˆ†é…è¶…å¤§æ•°ç»„</h3><p>æŠ¥é”™ä¿¡æ¯ ï¼š</p>
<blockquote>
<p>java.lang.OutOfMemoryError: Requested array size exceeds VM limit</p>
</blockquote>
<p>è¿™ç§æƒ…å†µä¸€èˆ¬æ˜¯ç”±äºä¸åˆç†çš„æ•°ç»„åˆ†é…è¯·æ±‚å¯¼è‡´çš„ï¼Œåœ¨ä¸ºæ•°ç»„åˆ†é…å†…å­˜ä¹‹å‰ï¼ŒJVM ä¼šæ‰§è¡Œä¸€é¡¹æ£€æŸ¥ã€‚è¦åˆ†é…çš„æ•°ç»„åœ¨è¯¥å¹³å°æ˜¯å¦å¯ä»¥å¯»å€(addressable)ï¼Œå¦‚æœä¸èƒ½å¯»å€(addressable)å°±ä¼šæŠ›å‡ºè¿™ä¸ªé”™è¯¯<br>è§£å†³æ–¹æ³•å°±æ˜¯æ£€æŸ¥ä½ çš„ä»£ç ä¸­æ˜¯å¦æœ‰åˆ›å»ºè¶…å¤§æ•°ç»„çš„åœ°æ–¹ã€‚</p>
<h3 id="swapæº¢å‡º"><a href="#swapæº¢å‡º" class="headerlink" title="swapæº¢å‡º"></a>swapæº¢å‡º</h3><p>æŠ¥é”™ä¿¡æ¯ ï¼š</p>
<blockquote>
<p>java.lang.OutOfMemoryError: Out of swap space</p>
</blockquote>
<p>è¿™ç§æƒ…å†µä¸€èˆ¬æ˜¯æ“ä½œç³»ç»Ÿå¯¼è‡´çš„ï¼Œå¯èƒ½çš„åŸå› æœ‰ï¼š</p>
<ol>
<li>swap åˆ†åŒºå¤§å°åˆ†é…ä¸è¶³ï¼›</li>
<li>å…¶ä»–è¿›ç¨‹æ¶ˆè€—äº†æ‰€æœ‰çš„å†…å­˜ã€‚</li>
</ol>
<p>è§£å†³æ–¹æ¡ˆï¼š<br>1ã€å…¶å®ƒæœåŠ¡è¿›ç¨‹å¯ä»¥é€‰æ‹©æ€§çš„æ‹†åˆ†å‡ºå» 2ã€åŠ å¤§swapåˆ†åŒºå¤§å°ï¼Œæˆ–è€…åŠ å¤§æœºå™¨å†…å­˜å¤§å°</p>
<h3 id="æœ¬åœ°æ–¹æ³•æº¢å‡º"><a href="#æœ¬åœ°æ–¹æ³•æº¢å‡º" class="headerlink" title="æœ¬åœ°æ–¹æ³•æº¢å‡º"></a>æœ¬åœ°æ–¹æ³•æº¢å‡º</h3><p>æŠ¥é”™ä¿¡æ¯ ï¼š</p>
<blockquote>
<p>java.lang.OutOfMemoryError: stack_trace_with_native_method</p>
</blockquote>
<p>æœ¬åœ°æ–¹æ³•åœ¨è¿è¡Œæ—¶å‡ºç°äº†å†…å­˜åˆ†é…å¤±è´¥ï¼Œå’Œä¹‹å‰çš„æ–¹æ³•æ ˆæº¢å‡ºä¸åŒï¼Œæ–¹æ³•æ ˆæº¢å‡ºå‘ç”Ÿåœ¨ JVM ä»£ç å±‚é¢ï¼Œè€Œæœ¬åœ°æ–¹æ³•æº¢å‡ºå‘ç”Ÿåœ¨JNIä»£ç æˆ–æœ¬åœ°æ–¹æ³•å¤„ã€‚<br>è¿™ä¸ªå¼‚å¸¸å‡ºç°çš„æ¦‚ç‡æä½ï¼Œåªèƒ½é€šè¿‡æ“ä½œç³»ç»Ÿæœ¬åœ°å·¥å…·è¿›è¡Œè¯Šæ–­ï¼Œéš¾åº¦æœ‰ç‚¹å¤§ï¼Œè¿˜æ˜¯æ”¾å¼ƒä¸ºå¦™ã€‚</p>
<blockquote>
<p><span class="exturl" data-url="aHR0cHM6Ly9ibG9nLjUxY3RvLmNvbS91XzE0NDQyMDk0LzI0NDkxNTE=">ç›¸å…³æ–‡ç« <i class="fa fa-external-link-alt"></i></span></p>
</blockquote>
<h1 id="ä¸¤è€…å…³ç³»"><a href="#ä¸¤è€…å…³ç³»" class="headerlink" title="ä¸¤è€…å…³ç³»"></a>ä¸¤è€…å…³ç³»</h1><ul>
<li>å†…å­˜æ³„æ¼çš„å †ç§¯æœ€ç»ˆä¼šå¯¼è‡´å†…å­˜æº¢å‡º </li>
<li>å†…å­˜æº¢å‡ºå°±æ˜¯ä½ è¦çš„å†…å­˜ç©ºé—´è¶…è¿‡äº†ç³»ç»Ÿå®é™…åˆ†é…ç»™ä½ çš„ç©ºé—´ï¼Œæ­¤æ—¶ç³»ç»Ÿç›¸å½“äºæ²¡æ³•æ»¡è¶³ä½ çš„éœ€æ±‚ï¼Œå°±ä¼šæŠ¥å†…å­˜æº¢å‡ºçš„é”™è¯¯ã€‚ </li>
<li>å†…å­˜æ³„æ¼æ˜¯æŒ‡ä½ å‘ç³»ç»Ÿç”³è¯·åˆ†é…å†…å­˜è¿›è¡Œä½¿ç”¨(new)ï¼Œå¯æ˜¯ä½¿ç”¨å®Œäº†ä»¥åå´ä¸å½’è¿˜(delete)ï¼Œç»“æœä½ ç”³è¯·åˆ°çš„é‚£å—å†…å­˜ä½ è‡ªå·±ä¹Ÿä¸èƒ½å†è®¿é—®ï¼ˆä¹Ÿè®¸ä½ æŠŠå®ƒçš„åœ°å€ç»™å¼„ä¸¢äº†ï¼‰ï¼Œè€Œç³»ç»Ÿä¹Ÿä¸èƒ½å†æ¬¡å°†å®ƒåˆ†é…ç»™éœ€è¦çš„ç¨‹åºã€‚å°±ç›¸å½“äºä½ ç§Ÿäº†ä¸ªå¸¦é’¥åŒ™çš„æŸœå­ï¼Œä½ å­˜å®Œä¸œè¥¿ä¹‹åæŠŠæŸœå­é”ä¸Šä¹‹åï¼ŒæŠŠé’¥åŒ™ä¸¢äº†æˆ–è€…æ²¡æœ‰å°†é’¥åŒ™è¿˜å›å»ï¼Œé‚£ä¹ˆç»“æœå°±æ˜¯è¿™ä¸ªæŸœå­å°†æ— æ³•ä¾›ç»™ä»»ä½•äººä½¿ç”¨ï¼Œä¹Ÿæ— æ³•è¢«åƒåœ¾å›æ”¶å™¨å›æ”¶ï¼Œå› ä¸ºæ‰¾ä¸åˆ°ä»–çš„ä»»ä½•ä¿¡æ¯ã€‚ </li>
<li>å†…å­˜æº¢å‡ºï¼šä¸€ä¸ªç›˜å­ç”¨å°½å„ç§æ–¹æ³•åªèƒ½è£…4ä¸ªæœå­ï¼Œä½ è£…äº†5ä¸ªï¼Œç»“æœæ‰å€’åœ°ä¸Šä¸èƒ½åƒäº†ã€‚è¿™å°±æ˜¯æº¢å‡ºã€‚æ¯”æ–¹è¯´æ ˆï¼Œæ ˆæ»¡æ—¶å†åšè¿›æ ˆå¿…å®šäº§ç”Ÿç©ºé—´æº¢å‡ºï¼Œå«ä¸Šæº¢ï¼Œæ ˆç©ºæ—¶å†åšé€€æ ˆä¹Ÿäº§ç”Ÿç©ºé—´æº¢å‡ºï¼Œç§°ä¸ºä¸‹æº¢ã€‚å°±æ˜¯åˆ†é…çš„å†…å­˜ä¸è¶³ä»¥æ”¾ä¸‹æ•°æ®é¡¹åºåˆ—,ç§°ä¸ºå†…å­˜æº¢å‡ºã€‚è¯´ç™½äº†å°±æ˜¯æˆ‘æ‰¿å—ä¸äº†é‚£ä¹ˆå¤šï¼Œé‚£æˆ‘å°±æŠ¥é”™ã€‚</li>
</ul>
<blockquote>
<p>å†…å­˜æº¢å‡ºå‚è€ƒæ–‡ç« ï¼š<span class="exturl" data-url="aHR0cHM6Ly9ibG9nLjUxY3RvLmNvbS91XzE0NDQyMDk0LzI0NDkxNTE=">https://blog.51cto.com/u_14442094/2449151<i class="fa fa-external-link-alt"></i></span></p>
</blockquote>

    </div>
   <div>
        
            <div style="text-align:left;font-size:14px;">
    <p style="text-align:center;color: #ccc;">-------------æœ¬æ–‡ç»“æŸ<i class="fa fa-paw"></i>æ„Ÿè°¢æ‚¨çš„é˜…è¯»-------------</p>
            </div>
        
    </div>

   
    
    
    
      
  <div class="popular-posts-header">ç›¸å…³çƒ­é—¨æ–‡ç« </div>
  <ul class="popular-posts">
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/posts/WTSYSE.html" rel="bookmark">Javaå¹¶å‘å¸¸è§çŸ¥è¯†ç‚¹&amp;é¢è¯•é¢˜æ€»ç»“_è¿›é˜¶ç¯‡</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/posts/1Z9HSDW.html" rel="bookmark">Kafkaé¢è¯•è¿ç¯ç‚®-ä¸­</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/posts/3N8921N.html" rel="bookmark">å½»åº•è®²é€Elasticsearch</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/posts/2GN96QM.html" rel="bookmark">è°ˆè°ˆä½ å¯¹ JVM æ–¹æ³•åŒºçš„ç†è§£</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/posts/1J88EXM.html" rel="bookmark">å¦‚ä½•è®¾è®¡ä¸€ä¸ªç§’æ€ç³»ç»Ÿ</a></div>
    </li>
  </ul>

        <div class="reward-container">
  <div></div>
  <button onclick="var qr = document.getElementById('qr'); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    æ‰“èµ
  </button>
  <div id="qr" style="display: none;">
      
      <div style="display: inline-block;">
        <img src="/images/wexinPay.jpeg" alt="meadel å¾®ä¿¡æ”¯ä»˜">
        <p>å¾®ä¿¡æ”¯ä»˜</p>
      </div>
      
      <div style="display: inline-block;">
        <img src="/images/zhifubaoPay.jpeg" alt="meadel æ”¯ä»˜å®">
        <p>æ”¯ä»˜å®</p>
      </div>

  </div>
</div>

        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>æœ¬æ–‡ä½œè€…ï¼š </strong>meadel
  </li>
  <li class="post-copyright-link">
    <strong>æœ¬æ–‡é“¾æ¥ï¼š</strong>
    <a href="https://xuemingde.com/posts/266A6Z5.html" title="å†…å­˜æ³„æ¼å’Œå†…å­˜æº¢å‡º">https://xuemingde.com/posts/266A6Z5.html</a>
  </li>
  <li class="post-copyright-license">
    <strong>ç‰ˆæƒå£°æ˜ï¼š </strong>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC96aC1DTg=="><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</span> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼
  </li>
</ul>
</div>


      <footer class="post-footer">
          
          <div class="post-tags">
              <a href="/tags/Java/" rel="tag"><i class="fa fa-tag"></i> Java</a>
              <a href="/tags/%E6%95%B0%E7%BB%84/" rel="tag"><i class="fa fa-tag"></i> æ•°ç»„</a>
              <a href="/tags/C/" rel="tag"><i class="fa fa-tag"></i> C</a>
              <a href="/tags/%E5%86%85%E5%AD%98/" rel="tag"><i class="fa fa-tag"></i> å†…å­˜</a>
              <a href="/tags/%E5%A0%86/" rel="tag"><i class="fa fa-tag"></i> å †</a>
              <a href="/tags/%E6%A0%88/" rel="tag"><i class="fa fa-tag"></i> æ ˆ</a>
              <a href="/tags/%E5%8F%98%E9%87%8F/" rel="tag"><i class="fa fa-tag"></i> å˜é‡</a>
              <a href="/tags/%E9%94%81/" rel="tag"><i class="fa fa-tag"></i> é”</a>
              <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" rel="tag"><i class="fa fa-tag"></i> æ•°æ®åº“</a>
              <a href="/tags/GC/" rel="tag"><i class="fa fa-tag"></i> GC</a>
              <a href="/tags/JVM/" rel="tag"><i class="fa fa-tag"></i> JVM</a>
          </div>

        
  <div class="post-widgets">
    <div class="wp_rating">
      <div id="wpac-rating"></div>
    </div>
  </div>


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/posts/APJKVT.html" rel="prev" title="Javaä¸­æœ‰å‡ ç§å¼•ç”¨">
      <i class="fa fa-chevron-left"></i> Javaä¸­æœ‰å‡ ç§å¼•ç”¨
    </a></div>
      <div class="post-nav-item">
    <a href="/posts/15HC2FY.html" rel="next" title="PDFå¯¼å‡ºæ·»åŠ æ°´å°å’Œé¡µçœ‰">
      PDFå¯¼å‡ºæ·»åŠ æ°´å°å’Œé¡µçœ‰ <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    

  </article>
  
  
  



           </div>
          </div>
          
    <div class="comments" id="valine-comments"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

          
<script src="https://readmore.openwrite.cn/js/readmore.js" type="text/javascript"></script>
<script>
    const btw = new BTWPlugin();
    btw.init({
        id: 'container-1',
        blogId: '29491-1649429697615-963',
        name: 'ä¸é—»ä¸€æ—¶',
        qrcode: 'https://xuemingde.com/pages/image/2022/05/31093822.png',
        keyword: 'meadel',
    });
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F"><span class="nav-number">1.</span> <span class="nav-text">å†…å­˜æ³„æ¼</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F%E4%BA%A7%E7%94%9F%E7%9A%84%E5%8E%9F%E5%9B%A0"><span class="nav-number">1.1.</span> <span class="nav-text">å†…å­˜æ³„æ¼äº§ç”Ÿçš„åŸå› </span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8D%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F"><span class="nav-number">1.2.</span> <span class="nav-text">å¦‚ä½•é¿å…å†…å­˜æ³„æ¼</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%81%87%E5%88%B0%E7%9A%84%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F"><span class="nav-number">1.3.</span> <span class="nav-text">é‡åˆ°çš„å†…å­˜æ³„æ¼</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%86%85%E5%AD%98%E6%BA%A2%E5%87%BA"><span class="nav-number">2.</span> <span class="nav-text">å†…å­˜æº¢å‡º</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%86%85%E5%AD%98%E6%BA%A2%E5%87%BA%E4%BA%A7%E7%94%9F%E7%9A%84%E5%8E%9F%E5%9B%A0"><span class="nav-number">2.1.</span> <span class="nav-text">å†…å­˜æº¢å‡ºäº§ç”Ÿçš„åŸå› </span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A0%86%E6%BA%A2%E5%87%BA"><span class="nav-number">2.1.1.</span> <span class="nav-text">å †æº¢å‡º</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B0%B8%E4%B9%85%E4%BB%A3-%E5%85%83%E7%A9%BA%E9%97%B4%E6%BA%A2%E5%87%BA"><span class="nav-number">2.1.2.</span> <span class="nav-text">æ°¸ä¹…ä»£/å…ƒç©ºé—´æº¢å‡º</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#GC-overhead-limit-exceeded"><span class="nav-number">2.1.3.</span> <span class="nav-text">GC overhead limit exceeded</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%B9%E6%B3%95%E6%A0%88%E6%BA%A2%E5%87%BA"><span class="nav-number">2.1.4.</span> <span class="nav-text">æ–¹æ³•æ ˆæº¢å‡º</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9D%9E%E5%B8%B8%E8%A7%84%E6%BA%A2%E5%87%BA"><span class="nav-number">2.1.5.</span> <span class="nav-text">éå¸¸è§„æº¢å‡º</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%86%E9%85%8D%E8%B6%85%E5%A4%A7%E6%95%B0%E7%BB%84"><span class="nav-number">2.1.6.</span> <span class="nav-text">åˆ†é…è¶…å¤§æ•°ç»„</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#swap%E6%BA%A2%E5%87%BA"><span class="nav-number">2.1.7.</span> <span class="nav-text">swapæº¢å‡º</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9C%AC%E5%9C%B0%E6%96%B9%E6%B3%95%E6%BA%A2%E5%87%BA"><span class="nav-number">2.1.8.</span> <span class="nav-text">æœ¬åœ°æ–¹æ³•æº¢å‡º</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%A4%E8%80%85%E5%85%B3%E7%B3%BB"><span class="nav-number">3.</span> <span class="nav-text">ä¸¤è€…å…³ç³»</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="meadel" src="/images/touxiang.jpeg">
  <p class="site-author-name" itemprop="name">meadel</p>
  <div class="site-description" itemprop="description">æˆ‘çš„æ„¿æœ›ï¼Œä¸–ç•Œå’Œå¹³</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">139</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">21</span>
        <span class="site-state-item-name">åˆ†ç±»</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">43</span>
        <span class="site-state-item-name">æ ‡ç­¾</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <span class="exturl" data-url="aHR0cHM6Ly9qdWVqaW4uY24vdXNlci80MDE5NDcwMjQ0MjU4NTUyL3Bvc3Rz" title="æ˜é‡‘ â†’ https://juejin.cn/user/4019470244258552/posts"><i class="fa fa-share-alt fa-fw"></i>æ˜é‡‘</span>
      </span>
      <span class="links-of-author-item">
        <span class="exturl" data-url="aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1ZV9taW5k" title="CSDN â†’ https://blog.csdn.net/xue_mind"><i class="fa fa-th-list fa-fw"></i>CSDN</span>
      </span>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      å‹æƒ…é“¾æ¥
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <span class="exturl" data-url="aHR0cHM6Ly90ZWNoLm1laXR1YW4uY29tLw==" title="https://tech.meituan.com/">ç¾å›¢å›¢é˜Ÿ</span>
        </li>
    </ul>
  </div>

      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  Â© 2016 â€“ 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-star"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">meadel</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
      <span class="post-meta-item-text">ç«™ç‚¹æ€»å­—æ•°ï¼š</span>
    <span title="ç«™ç‚¹æ€»å­—æ•°">887k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">ç«™ç‚¹é˜…è¯»æ—¶é•¿ â‰ˆ</span>
    <span title="ç«™ç‚¹é˜…è¯»æ—¶é•¿">13:26</span>
</div>
  <div class="powered-by">è¿™ä¸ªä¸–ç•Œä¼šå¥½å—ï¼Ÿæˆ‘æ˜¯é‚£ä¹ˆçƒ­çˆ±è¿™ä¸ªä¸–ç•Œã€‚  </div>
<div>
<span id="timeDate">è½½å…¥å¤©æ•°...</span><span id="times">è½½å…¥æ—¶åˆ†ç§’...</span>
<script>
    var now = new Date(); 
    function createtime1() { 
        var grt= new Date("12/15/2019 00:00:00");//åœ¨æ­¤å¤„ä¿®æ”¹ä½ çš„å»ºç«™æ—¶é—´
        now.setTime(now.getTime()+250); 
        var days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days); 
        var hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours); 
        if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum); 
        var mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;} 
        var seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum); 
        var snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;} 
        document.getElementById("timeDate").innerHTML = "ä¸åª³å¦‡åœ¨ä¸€èµ· "+dnum+" å¤© "; 
        document.getElementById("times").innerHTML = hnum + " å°æ—¶ " + mnum + " åˆ† " + snum + " ç§’"; 
    } 
setInterval("createtime1()",250);
</script>
</div>
<div>
<span id="timeDate1">è½½å…¥å¤©æ•°...</span><span id="times1">è½½å…¥æ—¶åˆ†ç§’...</span>
<script>
    var now1 = new Date(); 
    function createtime2() { 
        var grt= new Date("07/24/2021 00:00:00");//åœ¨æ­¤å¤„ä¿®æ”¹ä½ çš„å»ºç«™æ—¶é—´
        now1.setTime(now1.getTime()+250); 
        var days = (now1 - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days); 
        var hours = (now1 - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours); 
        if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now1 - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum); 
        var mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;} 
        var seconds = (now1 - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum); 
        var snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;} 
        document.getElementById("timeDate1").innerHTML = "å·²ç»“å©š "+dnum+" å¤© "; 
        document.getElementById("times1").innerHTML = hnum + " å°æ—¶ " + mnum + " åˆ† " + snum + " ç§’"; 
    } 
setInterval("createtime2()",250);
</script>
</div>
<div>
<span id="timeDate2">è½½å…¥å¤©æ•°...</span><span id="times2">è½½å…¥æ—¶åˆ†ç§’...</span>
<script>
    var now2 = new Date(); 
    function createtime3() { 
        var grt= new Date("03/28/1992 00:00:00");//åœ¨æ­¤å¤„ä¿®æ”¹ä½ çš„å»ºç«™æ—¶é—´
        now2.setTime(now2.getTime()+250); 
        var days = (now2 - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days); 
        var hours = (now2 - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours); 
        if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now2 - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum); 
        var mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;} 
        var seconds = (now2 - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum); 
        var snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;} 
        document.getElementById("timeDate2").innerHTML = "æˆ‘å·²ç»æ´»äº† "+dnum+" å¤© "; 
        document.getElementById("times2").innerHTML = hnum + " å°æ—¶ " + mnum + " åˆ† " + snum + " ç§’"; 
    } 
setInterval("createtime3()",250);
</script>
</div>

        
<div class="busuanzi-count">
  <script data-pjax="" async="" src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="æ€»è®¿å®¢é‡">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="æ€»è®¿é—®é‡">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script size="300" alpha="0.6" zindex="-1" src="../js/canvas-ribbon.js"></script>
  <script src="../js/anime.min.js"></script>
  <script src="../js/pjax.min.js"></script>
  <script src="../js/jquery.min.js"></script>
  <script src="../js/jquery.fancybox.min.js"></script>
  <script src="../js/medium-zoom.min.js"></script>
  <script src="../js/lozad.min.js"></script>
  <script src="../js/pangu.min.js"></script>
  <script src="../js/velocity.min.js"></script>
  <script src="../js/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>

<script src="/js/bookmark.js"></script>

  <script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '#page-configurations',
    '.content-wrap',
    '.post-toc-wrap',
    '.languages',
    '#pjax'
  ],
  switches: {
    '.post-toc-wrap': Pjax.switches.innerHTML
  },
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

window.addEventListener('pjax:success', () => {
  document.querySelectorAll('script[data-pjax], script#page-configurations, #pjax script').forEach(element => {
    var code = element.text || element.textContent || element.innerHTML || '';
    var parent = element.parentNode;
    parent.removeChild(element);
    var script = document.createElement('script');
    if (element.id) {
      script.id = element.id;
    }
    if (element.className) {
      script.className = element.className;
    }
    if (element.type) {
      script.type = element.type;
    }
    if (element.src) {
      script.src = element.src;
      // Force synchronous loading of peripheral JS.
      script.async = false;
    }
    if (element.dataset.pjax !== undefined) {
      script.dataset.pjax = '';
    }
    if (code !== '') {
      script.appendChild(document.createTextNode(code));
    }
    parent.appendChild(script);
  });
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  NexT.utils.updateSidebarPosition();
});
</script>


  <script defer="" src="../js/three.min.js"></script>
    <script defer="" src="../js/three-waves.min.js"></script>
    <script defer="" src="../js/canvas_lines.min.js"></script>
    <script defer="" src="../js/canvas_sphere.min.js"></script>


  
  <script data-pjax="">
    (function(){
      var canonicalURL, curProtocol;
      //Get the <link> tag
      var x=document.getElementsByTagName("link");
		//Find the last canonical URL
		if(x.length > 0){
			for (i=0;i<x.length;i++){
				if(x[i].rel.toLowerCase() == 'canonical' && x[i].href){
					canonicalURL=x[i].href;
				}
			}
		}
    //Get protocol
	    if (!canonicalURL){
	    	curProtocol = window.location.protocol.split(':')[0];
	    }
	    else{
	    	curProtocol = canonicalURL.split(':')[0];
	    }
      //Get current URL if the canonical URL does not exist
	    if (!canonicalURL) canonicalURL = window.location.href;
	    //Assign script content. Replace current URL with the canonical URL
      !function(){var e=/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi,r=canonicalURL,t=document.referrer;if(!e.test(r)){var n=(String(curProtocol).toLowerCase() === 'https')?"https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif":"//api.share.baidu.com/s.gif";t?(n+="?r="+encodeURIComponent(document.referrer),r&&(n+="&l="+r)):r&&(n+="?l="+r);var i=new Image;i.src=n}}(window);})();
  </script>



  <script data-pjax="">
  if (CONFIG.page.isPost) {
    wpac_init = window.wpac_init || [];
    wpac_init.push({
      widget: 'Rating',
      id    : 34163,
      el    : 'wpac-rating',
      color : 'fc6423'
    });
    (function() {
      if ('WIDGETPACK_LOADED' in window) return;
      WIDGETPACK_LOADED = true;
      var mc = document.createElement('script');
      mc.type = 'text/javascript';
      mc.async = true;
      mc.src = '//embed.widgetpack.com/widget.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(mc, s.nextSibling);
    })();
  }
  </script>

  
<script src="/js/local-search.js"></script>









<script data-pjax="">
document.querySelectorAll('.pdfobject-container').forEach(element => {
  let url = element.dataset.target;
  let pdfOpenParams = {
    navpanes : 0,
    toolbar  : 0,
    statusbar: 0,
    pagemode : 'thumbs',
    view     : 'FitH'
  };
  let pdfOpenFragment = '#' + Object.entries(pdfOpenParams).map(([key, value]) => `${key}=${encodeURIComponent(value)}`).join('&');
  let fullURL = `/lib/pdf/web/viewer.html?file=${encodeURIComponent(url)}${pdfOpenFragment}`;

  if (NexT.utils.supportsPDFs()) {
    element.innerHTML = `<embed class="pdfobject" src="${url + pdfOpenFragment}" type="application/pdf" style="height: ${element.dataset.height};">`;
  } else {
    element.innerHTML = `<iframe src="${fullURL}" style="height: ${element.dataset.height};" frameborder="0"></iframe>`;
  }
});
</script>


<script data-pjax="">
if (document.querySelectorAll('pre.mermaid').length) {
  NexT.utils.getScript('../js/mermaid.min.js', () => {
    mermaid.initialize({
      theme    : 'forest',
      logLevel : 3,
      flowchart: { curve     : 'linear' },
      gantt    : { axisFormat: '%m/%d/%Y' },
      sequence : { actorMargin: 50 }
    });
  }, window.mermaid);
}
</script>


    <div id="pjax">
  

  

  
<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>

<script>
var options = {
  bottom: '64px',
  right: 'unset',
  left: '32px',
  time: '0.5s',
  mixColor: 'transparent',
  backgroundColor: 'transparent',
  buttonColorDark: '#100f2c',
  buttonColorLight: '#fff',
  saveInCookies: true,
  label: 'ğŸŒ“',
  autoMatchOsTheme: true
}
const darkmode = new Darkmode(options);
window.darkmode = darkmode;
darkmode.showWidget();
</script>


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('../js/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'xOnoKG9QyBMz9vYupNusn9fn-gzGzoHsz',
      appKey     : 'RfiNClAkp7Ewe9rlzrjAQEXC',
      placeholder: "åæ§½ä¸€ä¸‹...",
      avatar     : 'monsterid',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : true,
      lang       : 'zh-cn' || 'zh-cn',
      path       : location.pathname,
      recordIP   : true,
      serverURLs : '',
      requiredFields : ['nick','mail']
    });
  }, window.Valine);
});
</script>

    </div>
  <link rel="stylesheet" href="/dist/APlayer.min.css">
  <div id="aplayer"></div>
  <script type="text/javascript" src="/dist/APlayer.min.js"></script>
  <script type="text/javascript" src="/dist/music.js"></script>


<script type="text/javascript" charset="utf-8" src="/js/lazyload-plugin/lazyload.intersectionObserver.min.js"></script></body></html>